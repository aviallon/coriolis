<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Printable version of this Document RDS.pdf Contents Printable version of this Document Symbolic Layout Symbolic Components Symbolic Segments The RDS File Physical Grid &amp; Lambda Value The...">
        <meta name="keywords" content="">
        <link rel="icon" href="../favicon.ico">

        <title>RDS / Symbolic to Real Conversion - Coriolis VLSI CAD Tools</title>

        <!-- Stylesheets -->
        <link href="../theme/css/bootstrap.css" rel="stylesheet">
        <link href="../theme/css/fonts.css"     rel="stylesheet">
        <link href="../theme/css/nest.css"      rel="stylesheet">
        <link href="../theme/css/pygment.css"   rel="stylesheet">
        <link href="../theme/css/coriolis.css"  rel="stylesheet">
        <!-- /Stylesheets -->

        <script src="../theme/js/jquery.min.js"></script>
        <script src="../theme/js/bootstrap.min.js"></script>

        <!-- RSS Feeds -->
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->



    </head>

    <body>
      <!-- Header -->
    <div class="header-container" style="background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('../images/common/layout-motif-faded-4.png'); background-position: center; ">


      <!--
      <div class="container">
        <nav class="navbar navbar-default">
          <div class="container-fluid">
            <div class="navbar-header">
              <a class="navbar-brand" href="../"><img class="mr20" src="../images/common/Coriolis-logo-white-4-small.png" alt="logo">Coriolis VLSI CAD Tools</a>
            </div>
            <ul class="nav navbar-nav">
                   <li><a href="../pages/github.html">Git</a></li>
                   <li><a href="../pages/documentation.html">Documentation</a></li>
              <li class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                  <span class="caret"></span>Topics
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item " href="../pages/homepage.html">Coriolis <span class="sc">vlsi</span> Backend Tools</a></li>
                  <li><a class="dropdown-item " href="../pages/symbolic-layout.html">Symbolic Layout</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </nav>
      </div> <!-- navbar container -->
      -->

      <!-- Static navbar -->
      <div class="container">
        <div class="header-nav">
          <div class="header-logo">
            <a class="pull-left" href="../"><img class="mr20" src="../images/common/Coriolis-logo-white-4-small.png" alt="logo">Coriolis VLSI CAD Tools</a>
          </div>
          <div class="nav pull-right">
                <a href="../pages/github.html">Git</a>
                <a href="../pages/documentation.html">Documentation</a>
          </div>
          <div class="nav pull-right">
            <div class="dropdown">
              <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                <span class="caret"></span>Topics
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item " href="../pages/homepage.html">Coriolis <span class="sc">vlsi</span> Backend Tools</a></li>
                <li><a class="dropdown-item " href="../pages/symbolic-layout.html">Symbolic Layout</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- /Static navbar -->

        <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <a href="https://www.lip6.fr/"><img class="mr20" height="60px" src="../images/common/LogoLIP6Blanc.png" alt="LIP6"></a>
                      <a href="https://www.sorbonne-universite.fr/"><img class="mr20" height="60px" src="../images/common/logo-SU-blanc-700px.png" alt="Sorbonne Universite"></a>
                      <a href="https://www.cnrs.fr/"><img class="mr20" height="60px" src="../images/common/LOGO-cnrs-white-large.png" alt="CNRS"></a>
                      <h1 class="header-title text-uppercase">RDS / Symbolic to Real Conversion</h1>
                      <div class="header-underline"></div>
                  </div>
              </div>
        </div>
    </div>
        <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <!-- -*- mode: rst; explicit-buffer-name: "RDS_HTML.rst<pelican>" -*- -->
<!-- -*- Mode: rst; explicit-buffer-name: "definition.rst<documentation/etc>" -*- -->
<!-- HTML/LaTeX backends mixed macros. -->
<!-- Acronyms & names. -->
<!-- URLs -->
<!-- Standard CAO/VLSI Concepts. -->
<!-- Alliance & MBK Concepts -->
<!-- Hurricane Concepts. -->
<!-- Link to Hurricane doc (Doxygen) -->
<div class="section" id="printable-version-of-this-document">
<h2><a class="toc-backref" href="#toc-entry-1">Printable version of this Document</a></h2>
<p><a class="reference external" href="../pdfs/RDS.pdf">RDS.pdf</a></p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#printable-version-of-this-document" id="toc-entry-1">Printable version of this Document</a></li>
<li><a class="reference internal" href="#symbolic-layout" id="toc-entry-2">Symbolic Layout</a><ul>
<li><a class="reference internal" href="#symbolic-components" id="toc-entry-3">Symbolic Components</a></li>
<li><a class="reference internal" href="#symbolic-segments" id="toc-entry-4">Symbolic Segments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-rds-file" id="toc-entry-5">The RDS File</a><ul>
<li><a class="reference internal" href="#physical-grid-lambda-value" id="toc-entry-6">Physical Grid &amp; Lambda Value</a></li>
<li><a class="reference internal" href="#the-mbk-to-rds-segment-table" id="toc-entry-7">The <tt class="docutils literal">MBK_TO_RDS_SEGMENT</tt> table</a></li>
<li><a class="reference internal" href="#the-mbk-to-rds-via-table" id="toc-entry-8">The <tt class="docutils literal">MBK_TO_RDS_VIA</tt> table</a></li>
<li><a class="reference internal" href="#the-mbk-to-rds-bigvia-hole-table" id="toc-entry-9">The <tt class="docutils literal">MBK_TO_RDS_BIGVIA_HOLE</tt> table</a></li>
<li><a class="reference internal" href="#the-mbk-to-rds-bigvia-metal-table" id="toc-entry-10">The <tt class="docutils literal">MBK_TO_RDS_BIGVIA_METAL</tt> table</a></li>
<li><a class="reference internal" href="#the-mbk-wiresetting-table" id="toc-entry-11">The <tt class="docutils literal">MBK_WIRESETTING</tt> table</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Disclaimer:</strong> This document is still far from complete.</p>
<!-- -*- Mode: rst -*- -->
<!-- Tools -->
<!-- RDS file syntax. -->
<!-- .. |DRC|                            replace:: ``DRC`` -->
<p></p>
</div>
<div class="section" id="symbolic-layout">
<h2><a class="toc-backref" href="#toc-entry-2">Symbolic Layout</a></h2>
<div class="section" id="symbolic-components">
<h3><a class="toc-backref" href="#toc-entry-3">Symbolic Components</a></h3>
<p>A symbolic layout is, in practice, made of only of three objects:</p>
<table class="table">
<colgroup>
<col width="30%" />
<col width="13%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Object</th>
<th class="head"><span class="sc">mbk</span></th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Segments</td>
<td><tt class="docutils literal">phseg</tt></td>
<td>Oriented segments with a width and an orientation.</td>
</tr>
<tr><td>VIAs &amp; contacts</td>
<td><tt class="docutils literal">phvia</tt></td>
<td>Boils down to just a point.</td>
</tr>
<tr><td>Big VIAs &amp; Big Contacts</td>
<td><tt class="docutils literal">phvia</tt></td>
<td>Point with a width and a height
That is a rectangle of width by height centered
on the VIA coordinates.</td>
</tr>
</tbody>
</table>
<p>Each of thoses objects is associated to a <em>symbolic layer</em> which will
control how the object is translated in many <em>real rectangles</em>.</p>
<table class="table">
<colgroup>
<col width="11%" />
<col width="19%" />
<col width="16%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"><span class="sc">mbk</span></th>
<th class="head">Layer Name</th>
<th class="head">Usable By</th>
<th class="head">Usage</th>
</tr>
</thead>
<tbody valign="top">
<tr><td rowspan="12"><tt class="docutils literal">phseg</tt></td>
<td><span class="sc">nwell</span></td>
<td>Segment</td>
<td>N Well</td>
</tr>
<tr><td><tt class="docutils literal">PWELL</tt></td>
<td>Segment</td>
<td>P Well</td>
</tr>
<tr><td><tt class="docutils literal">NDIF</tt></td>
<td>Segment</td>
<td>N Diffusion</td>
</tr>
<tr><td><tt class="docutils literal">PDIF</tt></td>
<td>Segment</td>
<td>P Diffusion</td>
</tr>
<tr><td><tt class="docutils literal">NTIE</tt></td>
<td>Segment</td>
<td>N Tie</td>
</tr>
<tr><td><tt class="docutils literal">PTIE</tt></td>
<td>Segment</td>
<td>P Tie</td>
</tr>
<tr><td><tt class="docutils literal">NTRANS</tt></td>
<td>Segment</td>
<td>N transistor, in <span class="sc">Alliance</span>, a transistor
is represented as a segment (it's grid).</td>
</tr>
<tr><td><tt class="docutils literal">PTRANS</tt></td>
<td>Segment</td>
<td>P transistor</td>
</tr>
<tr><td><tt class="docutils literal">POLY</tt></td>
<td>Segment</td>
<td>Polysilicium</td>
</tr>
<tr><td><tt class="docutils literal">ALUx</tt></td>
<td>Segment</td>
<td>Metal level <em>x</em></td>
</tr>
<tr><td><tt class="docutils literal">CALUx</tt></td>
<td>Segment</td>
<td>Metal level <em>x</em>, that can be used by the
upper hierarchical level as a connector.
From the layout point of view it is the
same as <tt class="docutils literal">ALUx</tt>.</td>
</tr>
<tr><td><tt class="docutils literal">TALUx</tt></td>
<td>Segment</td>
<td>Blockage for metal level <em>x</em>. Will
diseappear in the real layout as it is an
information for the P&amp;R tools only.</td>
</tr>
<tr><td rowspan="9"><tt class="docutils literal">phvia</tt></td>
<td><tt class="docutils literal">CONT_BODY_N</tt></td>
<td>VIA, BIGVIA</td>
<td>Contact to N Well</td>
</tr>
<tr><td><tt class="docutils literal">CONT_BODY_P</tt></td>
<td>VIA, BIGVIA</td>
<td>Contact to P Well</td>
</tr>
<tr><td><tt class="docutils literal">CONT_DIF_N</tt></td>
<td>VIA, BIGVIA</td>
<td>Contact to N Diffusion</td>
</tr>
<tr><td><tt class="docutils literal">CONT_DIF_P</tt></td>
<td>VIA, BIGVIA</td>
<td>Contact to P Diffusion</td>
</tr>
<tr><td><tt class="docutils literal">CONT_POLY</tt></td>
<td>VIA, BIGVIA</td>
<td>Contact to polysilicium</td>
</tr>
<tr><td><tt class="docutils literal">CONT_VIA</tt></td>
<td>VIA, BIGVIA</td>
<td>Contact between metal1 and metal2</td>
</tr>
<tr><td><tt class="docutils literal">CONT_VIAx</tt></td>
<td>VIA, BIGVIA</td>
<td>Contact between metal <em>x</em> and metal <em>x+1</em>.
The index is the the one of the bottom
metal of the VIA.</td>
</tr>
<tr><td><tt class="docutils literal">C_X_N</tt></td>
<td>VIA</td>
<td>N transistor corner, to build transistor
bend. Not used anymore in recent technos</td>
</tr>
<tr><td><tt class="docutils literal">C_X_P</tt></td>
<td>VIA</td>
<td>P transistor corner, to build transistor
bend. Not used anymore in recent technos</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not all association of object and symbolic layers are meaningful.
For instance you cannot associate a contact to a <tt class="docutils literal">NTRANS</tt> layer.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The symbolic layer associated with blockages is prefixed by a <tt class="docutils literal">T</tt>,
for <em>transparency</em>, which may seems silly. It is for historical reasons,
it started as a true transparency, but at some point we had to invert
the meaning (blockage) with the rise of over-the-cell routing, but the
name stuck...</p>
</div>
</div>
<div class="section" id="symbolic-segments">
<h3><a class="toc-backref" href="#toc-entry-4">Symbolic Segments</a></h3>
<p>In <span class="sc">Alliance</span>, segments are oriented (up, down, left, right). This disambiguate
the left or right side when using the <tt class="docutils literal">LCW</tt> and <tt class="docutils literal">RCW</tt> rules in the <span class="sc">rds</span> file.
It allows to generate, if needed, asymetric object in the real layout file.</p>
<p> <img alt="Symbolic Segment Orientations" class="align-middle" src="../pages/images/SegmentOrientation.png" style="width: 50%;" /> </p>
<p></p>
</div>
</div>
<div class="section" id="the-rds-file">
<h2><a class="toc-backref" href="#toc-entry-5">The RDS File</a></h2>
<p>The RDS file control how a symbolic layout is transformed into it's real
conterpart.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Unit used inside the RDS file:</strong> all units are expressed in micrometers.</p>
</div>
<p>Alliance tools relying on the RDS file, and what layers are active for them:</p>
<table class="table">
<colgroup>
<col width="47%" />
<col width="16%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Tool</th>
<th class="head">Name</th>
<th class="head">RDS Flags</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Layout editor</td>
<td><tt class="docutils literal">graal</tt></td>
<td><tt class="docutils literal">ALL</tt></td>
</tr>
<tr><td>Design Rule Checker</td>
<td><tt class="docutils literal">druc</tt></td>
<td><tt class="docutils literal">ALL</tt>, <span class="sc">drc</span></td>
</tr>
<tr><td>Electrical extractor</td>
<td><tt class="docutils literal">cougar</tt></td>
<td><tt class="docutils literal">ALL</tt>, <tt class="docutils literal">EXT</tt></td>
</tr>
<tr><td>The symbolic to real layout translator</td>
<td><span class="cb">s2r</span></td>
<td><tt class="docutils literal">ALL</tt></td>
</tr>
</tbody>
</table>
<div class="section" id="physical-grid-lambda-value">
<h3><a class="toc-backref" href="#toc-entry-6">Physical Grid &amp; Lambda Value</a></h3>
<p>RDS file:</p>
<pre class="literal-block">
DEFINE  PHYSICAL_GRID  0.005
DEFINE  LAMBDA         0.09
</pre>
<p>Tells that the physical grid (founder grid) step is 0.005µm and the lambda has
a value of 0.09µm. That is, one lambda is 18 grid steps.</p>
<p>We can distinguish two kind of <span class="sc">rds</span> files:</p>
<ul class="simple">
<li>The <em>1µm</em> kind, odd segment widths and coordinates are allowed, but the <tt class="docutils literal">LAMBDA</tt>
value <strong>must</strong> represent an <em>even</em> number of foundry grid step.</li>
<li>The <em>2µm</em> kind, segments widths and coordinates must all be even. And in that case
the <tt class="docutils literal">LAMBDA</tt> value can be any multiple of the foundry grid.</li>
</ul>
</div>
<div class="section" id="the-mbk-to-rds-segment-table">
<h3><a class="toc-backref" href="#toc-entry-7">The <tt class="docutils literal">MBK_TO_RDS_SEGMENT</tt> table</a></h3>
<p>The <tt class="docutils literal">MBK_TO_RDS_SEGMENT</tt> table control the way segments are translated into
real rectangles. Be aware that we are translating <em>segments</em> and not <em>rectangles</em>.
Segments are defined by their axis (source &amp; target points) and their width.
The geometrical transformations are described according to that model.
Obviously, they are either horizontal or vertical.</p>
<p>The translation method of a symbolic segment is as follow:</p>
<ol class="arabic">
<li><p class="first">The segment is translated into one or more physical rectangles.
The generated rectangles depends on the tool which is actually
using <span class="sc">rds</span> and the flag for the considered real layer.
For instance, real layers flagged with <span class="sc">drc</span> will be generated
for <span class="cb">s2r</span> (for the <tt class="docutils literal">cif</tt> or <tt class="docutils literal">gds</tt>) and <tt class="docutils literal">druc</tt>, but will not
be shown under <tt class="docutils literal">graal</tt>.</p>
</li>
<li><p class="first">Translation into one real layer. <em>First</em> the source &amp; target coordinates and width
of the symbolic segment are multiplied by the <tt class="docutils literal">LAMBDA</tt> value to obtain a real
segment. <em>Then</em> one of the <tt class="docutils literal">VW</tt>, <tt class="docutils literal">LCW</tt> or <tt class="docutils literal">RCW</tt> transformation is applied to
that segment to get the final real rectangle.</p>
<ul>
<li><p class="first"><tt class="docutils literal">VW</tt> for Variable Width, expand the real layer staying centered from the
original one. In those rules, the third number is not used, it is only here
to make the life easier for the parser...</p>
<p> <img alt="RDS Variable Width Rule" class="align-middle" src="../pages/images/RDS_VW.png" style="width: 60%;" /> </p>
</li>
<li><p class="first"><tt class="docutils literal">LCW</tt> or <tt class="docutils literal">RCW</tt> for Left/Right Constant Width, create an off-center rectangle
of fixed width relatively to the real segment. Note that the <tt class="docutils literal">SP</tt> number
is the distance <em>between the edge</em> of the real segment and the edge of the
generated real rectangle (<em>not</em> from the axis). It is often zero.</p>
<p> <img alt="RDS Left Constant Width Rule" class="align-middle" src="../pages/images/RDS_LCW.png" style="width: 40%;" /> </p>
</li>
</ul>
</li>
</ol>
<p></p>
<p>Examples:</p>
<pre class="literal-block">
TABLE MBK_TO_RDS_SEGMENT

    # (Case 1)
    ALU1       RDS_ALU1   VW  0.18  0.09  0.0  ALL

    # (Case 2)
    NDIF       RDS_NDIF   VW  0.18  0.0   0.0  ALL \
               RDS_ACTIV  VW  0.18  0.0   0.0  DRC \
               RDS_NIMP   VW  0.36  0.36  0.0  DRC

    # (Case 3)
    NTRANS     RDS_POLY   VW  0.27  0.00  0.0  ALL \
               RDS_GATE   VW  0.27  0.00  0.0  DRC \
               RDS_NDIF  LCW  0.0   0.27  0.0  EXT \
               RDS_NDIF  RCW  0.0   0.27  0.0  EXT \
               RDS_NDIF   VW  0.0   0.72  0.0  DRC \
               RDS_ACTIV  VW  0.0   0.72  0.0  ALL \
               RDS_NIMP   VW  0.18  1.26  0.0  DRC

END
</pre>
<p><span class="fboxtt">Case 1</span> the <tt class="docutils literal">ALU1</tt> is translated in exacltly one real rectangle of
<tt class="docutils literal">RDS_ALU1</tt>, both ends are extended by 0.18µm and it's width is increased
by 0.09µm.</p>
<p><span class="fboxtt">Case 2</span> the <tt class="docutils literal">NDIF</tt> will be translated into only one segment
under <tt class="docutils literal">graal</tt>, for symbolic visualization. And into three real rectangles
for <span class="cb">s2r</span> and <tt class="docutils literal">druc</tt>.</p>
<p><span class="fboxtt">Case 3</span> the <tt class="docutils literal">NTRANS</tt>, associated to a transistor is a little bit
more complex, the generated shapes are different for the extractor <tt class="docutils literal">cougar</tt>
in one hand, and for both <tt class="docutils literal">druc</tt> &amp; <span class="cb">s2r</span> in the other hand.</p>
<ul>
<li><p class="first">For the extractor (<tt class="docutils literal">EXT</tt> &amp; <tt class="docutils literal">ALL</tt> flags) there will be four rectangles
generateds:</p>
<ol class="arabic simple">
<li>The gate (<tt class="docutils literal">RDS_GATE</tt>)</li>
<li>The left diffusion of the transistor (source or drain) (<tt class="docutils literal">RDS_NDIF</tt>).</li>
<li>The right diffusion of the transistor (drain or source) (<tt class="docutils literal">RDS_NDIF</tt>).</li>
<li>The active area (<tt class="docutils literal">RDS_ACTIV</tt>).</li>
</ol>
<p>As the extractor must kept separate the source and the drain of the transistor,
they are generated as two offset rectangles, using the <tt class="docutils literal">LCW</tt> and <tt class="docutils literal">RCW</tt> directives.</p>
</li>
<li><p class="first">For <span class="cb">s2r</span> and <tt class="docutils literal">druc</tt> (<span class="sc">drc</span> and <tt class="docutils literal">ALL</tt>), five rectangles are generateds:</p>
<ol class="arabic simple">
<li>The poly (<tt class="docutils literal">RDS_POLY</tt>).</li>
<li>The gate (<tt class="docutils literal">RDS_GATE</tt>).</li>
<li>The diffusion, as one rectangle that covers both the <tt class="docutils literal">LCW</tt> and the <tt class="docutils literal">RCW</tt> (<tt class="docutils literal">RDS_NDIF</tt>).</li>
<li>The active area (<tt class="docutils literal">RDS_ACTIV</tt>).</li>
<li>The N implantation (<tt class="docutils literal">RDS_NIMP</tt>).</li>
</ol>
<p>In the layout send to the foundry, the source &amp; drain are draw as one rectangle
across the gate area (the transistor being defined by the intersection of both
rectangles).</p>
</li>
</ul>
<p></p>
</div>
<div class="section" id="the-mbk-to-rds-via-table">
<h3><a class="toc-backref" href="#toc-entry-8">The <tt class="docutils literal">MBK_TO_RDS_VIA</tt> table</a></h3>
<p>This table is to translate <em>default</em> VIAs into real via. In the symbolic layout
the default VIA is simply a point and a set of layers. All layers are converted
in squares shapes centered on the VIA coordinate. The one dimension given is the
size of the side of that square.</p>
<p>Note that although we are refering to VIAs, which for the purists are between two
metal layers, this table also describe <em>contacts</em>.</p>
<p>Example:</p>
<pre class="literal-block">
TABLE MBK_TO_RDS_VIA

    CONT_DIF_P RDS_PDIF  0.54 ALL \
               RDS_CONT  0.18 ALL \
               RDS_ALU1  0.36 ALL \
               RDS_ACTIV 0.54 DRC \
               RDS_PIMP  0.90 DRC

    CONT_POLY  RDS_POLY  0.54 ALL \
               RDS_CONT  0.18 ALL \
               RDS_ALU1  0.36 ALL

    CONT_VIA   RDS_ALU1  0.45 ALL \
               RDS_VIA1  0.27 ALL \
               RDS_ALU2  0.45 ALL

END
</pre>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>In CONT_DIF_P</strong> you may see that only three layers will be shown under
<tt class="docutils literal">graal</tt>, but five will be generated in the <tt class="docutils literal">gds</tt> layout.</p>
</div>
</div>
<div class="section" id="the-mbk-to-rds-bigvia-hole-table">
<h3><a class="toc-backref" href="#toc-entry-9">The <tt class="docutils literal">MBK_TO_RDS_BIGVIA_HOLE</tt> table</a></h3>
<p>In <span class="cb">s2r</span>, when generating BIGVIAs, the matrix of holes they contains is
not draw relative to the position of the BIGVIA itself, but on a grid which
is common througout all the design real layout. This is to allow overlap
between two BIGVIA without risking the holes matrix to be not exactly overlapping.
As a consequence, when visualizing the <tt class="docutils literal">gds</tt> file, the holes may not be centerend
inside one individual BIGVIA.</p>
<p>The <tt class="docutils literal">MBK_TO_RDS_BIGVIA_HOLE</tt> table define the global hole matrix for the whole
design. The first number is the individual hole side and the second the grid step
(edge to edge). The figure below show the hole generation.</p>
<p> <img alt="BIGVIA holes" class="align-middle" src="../pages/images/bigvia-1.png" style="width: 40%;" /> </p>
<p>Example of BIGVIA overlap:</p>
<p> <img alt="BIGVIA holes overlap" class="align-middle" src="../pages/images/bigvia-2.png" style="width: 40%;" /> </p>
<p>Example:</p>
<pre class="literal-block">
TABLE MBK_TO_RDS_BIGVIA_HOLE

    CONT_VIA   RDS_VIA1 0.27 0.27 ALL
    CONT_VIA2  RDS_VIA2 0.27 0.27 ALL
    CONT_VIA3  RDS_VIA3 0.27 0.27 ALL
    CONT_VIA4  RDS_VIA4 0.27 0.27 ALL
    CONT_VIA5  RDS_VIA5 0.36 0.36 ALL

END
</pre>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>BIGVIA demotion.</strong> If the size of the bigvia is too small, there is
a possibility that no hole from the global matrix will be under it.
To avoid that case, if the either side of the BIGVIA is less than
<tt class="docutils literal">1.5 * step</tt>, the BIGVIA is demoted to a simple VIA.</p>
</div>
</div>
<div class="section" id="the-mbk-to-rds-bigvia-metal-table">
<h3><a class="toc-backref" href="#toc-entry-10">The <tt class="docutils literal">MBK_TO_RDS_BIGVIA_METAL</tt> table</a></h3>
<p>This table describe how the metal part of a BIGVIA is expanded (for the hole
part, see the previous table <tt class="docutils literal">MBK_TO_RDS_BIGVIA_HOLE</tt>). The rule give for each
metal:</p>
<ol class="arabic simple">
<li>The <em>delta-with</em> (have to ask Franck).</li>
<li>The <em>overhang</em>, the length the real rectangle is expanded on each side from
the symbolic rectange.</li>
</ol>
<p>Example:</p>
<pre class="literal-block">
TABLE MBK_TO_RDS_BIGVIA_METAL

    CONT_VIA  RDS_ALU1 0.0 0.09  ALL \
              RDS_ALU2 0.0 0.09  ALL

    CONT_VIA2 RDS_ALU2 0.0 0.09  ALL \
              RDS_ALU3 0.0 0.09  ALL

    CONT_VIA3 RDS_ALU3 0.0 0.09  ALL \
              RDS_ALU4 0.0 0.09  ALL

    CONT_VIA4 RDS_ALU4 0.0 0.09  ALL \
              RDS_ALU5 0.0 0.09  ALL

    CONT_VIA5 RDS_ALU5 0.0 0.09  ALL \
              RDS_ALU6 0.0 0.18  ALL
END
</pre>
</div>
<div class="section" id="the-mbk-wiresetting-table">
<h3><a class="toc-backref" href="#toc-entry-11">The <tt class="docutils literal">MBK_WIRESETTING</tt> table</a></h3>
<p>From a strict standpoint this table shouldn't be here but put in a separate
configuration file, because it contains informations only used by the symbolic
layout tools (<tt class="docutils literal">ocp</tt>, <tt class="docutils literal">nero</tt>, <tt class="docutils literal">ring</tt>).</p>
<p>This table defines the cell gauge the routing pitch and minimal (symbolic)
wire width and minimal spacing for the routers. They are patly redundant.</p>
<p>Example:</p>
<pre class="literal-block">
TABLE MBK_WIRESETTING

    X_GRID             10
    Y_GRID             10
    Y_SLICE           100
    WIDTH_VDD          12
    WIDTH_VSS          12
    TRACK_WIDTH_ALU8    0
    TRACK_WIDTH_ALU7    4
    TRACK_WIDTH_ALU6    4
    TRACK_WIDTH_ALU5    4
    TRACK_WIDTH_ALU4    3
    TRACK_WIDTH_ALU3    3
    TRACK_WIDTH_ALU2    3
    TRACK_WIDTH_ALU1    3
    TRACK_SPACING_ALU8  0
    TRACK_SPACING_ALU7  4
    TRACK_SPACING_ALU6  4
    TRACK_SPACING_ALU5  4
    TRACK_SPACING_ALU4  4
    TRACK_SPACING_ALU3  4
    TRACK_SPACING_ALU2  4
    TRACK_SPACING_ALU1  3

END
</pre>
</div>
</div>

    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Map</div>
                        <ul class="list-unstyled">
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-2">
                        <div class="footer-title">Social</div>
                        <ul class="list-unstyled">
                            <li><a href="element://vector/webapp/#/room/%23coriolis%3Amatrix.org?via=matrix.or" target="_blank">Matrix</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Links</div>
                        <ul class="list-unstyled">
                            <li><a href="https://coriolis.lip6.fr/" target="_blank">Alliance/Coriolis</a></li>
                            <li><a href="https://largo.lip6.fr/" target="_blank">CIAN Team Website</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-4">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
			    <small><em><span class="sc">NEST</span> theme by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>Copyright © 2020-2020 Sorbonne Universite</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>